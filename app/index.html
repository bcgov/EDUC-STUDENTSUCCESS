<!doctype html>
<html lang="en">

<head>
  <title>BC Enrolment Booklet</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
  <link rel='stylesheet' href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" />
  <link rel="stylesheet" href="/css/bootstrap.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">


  <!-- custom css -->
  <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
  <!-- always evolved from a grid container (fixed width:960px), 
    container class allows to center content. container-fluid: completely fluid-->

  <nav class="navbar navbar-expand-lg navbar-light sticky-top nav-bg">
    <div class="container">
      <a class="navbar-brand" href="#">Enrolment Booklet</a>

      <!-- hamburger menu -->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent">
        <div class="icon">
          <span class="line top"></span>
          <span class="line middle"></span>
          <span class="line bottom"></span>
        </div>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="#enrolment_model">The Model</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#demographics">Demographics</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#migration_overview">Migration</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#transition">Transition</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#retention">Retention</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container" id='intro'>
    <!-- Jumbotron / hero section, a component -->
    <div class="row">
      <div class="col-sm-12 col-md-5">
        <h2 class="intro_header">Enrolment Model</h2>
        <h5>Student enrolment is influenced by four main drivers: demographics, migration, public-independent
          transition,
          and course load retention.</h5>
        <div class="cta_container mt-5">
          <a class="btn ctaBtn btn-lg mr-3" href="#enrolment_model">EXPLORE</a>
          <a class="btn ctaGhost btn-lg" href="#booklet">STATIC REPORT</a>
        </div>
        <p class="gradient_para"><i class="far fa-chart-bar"></i></i><span>An interactive app exploring enrolment
            data</span></p>
      </div>
      <div class="col-sm-12 col-md-7">
        <img src="/assets/img/hero_isometric.png" class="isometric_img" alt="hero img">
      </div>
    </div>
  </div>

  <div class="container" id="enrolment_model">
    <div class="row">
      <div class="col-md-8 mx-auto driver_section">
        <h3 class="section_header text-center"><span>Key Metrics and Impact</span></h3>
        <p>The Ministry of Education District Enrolment Forecast Model (DEFM) has been developed based on
          the Cohort Survival Method approach. The DEFM is based on four enrolment drivers: migration, demographics,
          independent/public school transition, and continuous student retention.</p>
      </div>
      <div class="col-sm-12 col-md-8">
        <div id="lineContainer"></div>
      </div>

      <div class="col-sm-12 col-md-4">
        <div id='model_control'>
          <div class="controlSection">
            <h4 id="distName">SD99-Province</h4>
          </div>
          <div class="controlSection">
            <h5>Time Range</h5>
            <div id="model_slider"></div>
          </div>
          <div class="controlSection">
            <h5>School District</h5>
            <div id="model_distDropdown" class="dropDown">
              <span>SD99-Province</span>
              <div class="list"></div>
            </div>
          </div>
          <div class="controlSection">
            <h5>District Reports</h5>
            <a class="ghostBtn reportBtn"
              href="https://www2.gov.bc.ca/gov/content/education-training/k-12/administration/program-management/reporting-on-k-12/district-reports"
              target="_blank">View Reports<i class="fas fa-angle-right ml-3"></i></a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container" id="demographics">
    <div class="row">
      <div class="col-md-8 mx-auto driver_section">
        <h3 class="section_header text-center"><span>Demographics</span></h3>
        <p>The demographics driver provides an indication or whether more kindergarten students are entering schools
          relative to those leaving through graduation. If the net demographic value is positive, it is indicating that
          more five year olds are entering the system relative to the number of grade 12 students that are graduating.
        </p>
      </div>
      <div class="col-sm-12 col-md-8">
        <div id="demo_container"></div>
      </div>
      <div class="col-sm-12 col-md-4">
        <div id="demographics-control">
          <div class="controlSection">
            <h5>Demographic Type</h5>
            <form id="demo-radio">
              <label class="radio">
                <input type="radio" name="demo-type" value="NEW_KINDERGARTEN" checked><span>New to kindergarten</span>
                <span class="checkmark"></span>
              </label>
              <label class="radio">
                <input type="radio" name="demo-type" value="GRADUATES"><span>Graduates</span>
                <span class="checkmark"></span>
              </label>
              <label class="radio">
                <input type="radio" name="demo-type" value="NET"><span>Net change</span>
                <span class="checkmark"></span>
              </label>
            </form>
          </div>
          <div class="controlSection">
            <h5>School District</h5>
            <button type="button" class="ghostBtn" data-toggle="modal" data-target="#demoModal">Select Districts<i
                class="fas fa-plus ml-3"></i></button>
          </div>
          <div id="demoModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Select Districts</h5>
                  <div id="demoModal_msg">(*Please select no more than 8 districts)</div>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                </div>
                <div class="modal-footer">
                  <div id="demo_deselect"><i class="fas fa-times mr-1"></i>Deselect All</div>
                  <button type="button" class="ghostBtn" data-dismiss="modal">Close</button>
                  <button id="demo_save" type="button" class="flatBtn" data-dismiss="modal">Save changes</button>
                </div>
              </div>
            </div>
          </div>

        </div>

        <div id="demo_legend"></div>
      </div>
    </div>
  </div>

  <div class="container" id='migration_overview'>
    <div class="row mb-5">
      <div class="col-sm-12 col-md-4 migration_left_text ">
        <h3 class="section_header"><span>Student Migration</span></h3>
        <p>The migration driver provides a measure of how many students are entering or leaving a district. If net
          migration is positive then more people are entering the district than leaving it.</p>
        <p>District-out: Grade K to 11 BC Public school students who were enroled in different school districts in
          subsequent years.</p>
        <p>District-in: Grade 1 to 12 BC Public school students who were enroled in different school districts in
          subsequent years.
        </p>

      </div>
      <div class="col-sm-12 col-md-8">
        <div id="aniContainer">
          <div id="animationMap"></div>
          <div id="ani_control" class="row">
            <div id="play-pause" class="play"></div>
            <div id="ani-slider" class="col-6"></div>
            <div id="ani_year">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="container" id="flow_map">
    <div class="row">
      <div class="col-sm-12 col-md-8">
        <div id="mapContainer">
          <div id="interactiveMap"></div>
        </div>
      </div>

      <div class="col-sm-12 col-md-4">
        <h3 class="section_header"><span>Where Do Students Go</span></h3>
        <div id='control'>
          <div class="controlSection">
            <h5>School Year</h5>
            <div id="yearDropdown" class="dropDown" tabindex="1">
              <span>2017/2018</span>
              <div class="list">
                <div data-value="2018">2017/2018</div>
                <div data-value="2017">2016/2017</div>
                <div data-value="2016">2015/2016</div>
                <div data-value="2015">2014/2015</div>
                <div data-value="2014">2013/2014</div>
              </div>
            </div>
          </div>
          <div class="controlSection">
            <h5>School District</h5>
            <div id="distDropdown" class="dropDown" tabindex="1">
              <span>Select a school district</span>
              <div class="list"></div>
            </div>
          </div>
          <div class="controlSection">
            <h5>Migration Flow</h5>
            <button class="flowBtn selected" id="btn_all" value="all">All</button>
            <button class="flowBtn" id="btn_inflow" value="inflow">Inflow</button>
            <button class="flowBtn" id="btn_outflow" value="outflow">Outflow</button>
            <div id="flow_switch">
              <h6>Top 5 Flow</h6>
              <input type="checkbox" id="flat_switch" />
              <label for="flat_switch"></label>
            </div>
              <img class="img-fluid" src="/assets/img/flow_legend.png" alt="flow legend">
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="container" id="transition">
    <div class="row">
      <div class="col-md-8 mx-auto driver_section">
        <h3 class="section_header text-center"><span>Public and Independent Transition</span></h3>
        <p>The transition driver measures how many students move from independent schools to public schools as a net
          positive inflow, and independent to public schools as a negative outflow.</p>
      </div>
      <div class="col-sm-12 col-md-5">
        <div id="trans_control">
          <h5>School Year</h5>
          <div id="trans_slider">
          </div>
        </div>

        <div id="graph_container">
            
          <h5 class="col-12 text-center trans_title">Transition Overview</h5>
          <div id="school_graph">
          <div>
            <img id="public_school_icon" class="img-fluid" src="/assets/img/public2.png" alt="public school">
            <h6 class="text-center">Public</h6>
          </div>
          <div id="trans_rate" class="col-3">
            <div id="pub_to_ind" class="text-center"></div>
            <div id="ind_to_pub" class="text-center"></div>
          </div>
          <div>
            <img id="independent_school_icon" class="img-fluid" src="/assets/img/independent2.png"
              alt="independent school">
            <h6 class="text-center">Independent</h6>
          </div>
        </div>


      </div>
    </div>

    <div class="col-sm-12 col-md-7">
      <div id="trans_control_2">
        <div class="col-7">
          <h5>School District</h5>
          <div id="trans_dist_dropdown" class="dropDown" tabindex="1">
            <span>Top 5 districts</span>
            <div class="list">
            </div>
          </div>
        </div>
        <div class="col-5">
          <h5>Transition Type</h5>
          <div id="trans_type_dropdown" class="dropDown" tabindex="1">
            <span>Public entered</span>
            <div class="list">
              <div data-value="ENTER_PUBLIC">Public entered</div>
              <div data-value="LEAVE_PUBLIC">Public left</div>
              <div data-value="NET_INDEPENDENT">Net change</div>
            </div>
          </div>
        </div>
      </div>

      <div id="transition_container"></div>
    </div>
  </div>
  </div>

  <div class="container" id="retention">
    <div class="row">
      <div class="col-md-8 mx-auto driver_section">
        <h3 class="section_header text-center"><span>Full-time to Part-time Retention</span></h3>
        <p>The retention driver provides an indication if students are moving from full-time to part-time status or
          vise-versa. If net retention is positive then students are increasing their course load on average. If net
          retention is negative then on average, students are decreasing their course load.</p>
      </div>
      <div class="col-sm-12 col-md-8">
        <div id="retention_control">
          <div class="row">
            <div class="controlSection col-7">
              <h5>School District</h5>
              <div id="retention_distDropdown" class="dropDown" tabindex="1">
                <span>Select a school district</span>
                <div class="list"></div>
              </div>
            </div>
          </div>
        </div>

        <div id="retention_container"></div>
      </div>

      <div class="col-sm-12 col-md-4 d-flex flex-wrap align-items-center">
        <img src="/assets/img/retention_img.png" class="isometric_img" alt="retention_dcr">
      </div>

    </div>
  </div>

  <div class="container" id="booklet">
    <div class="row">
      <div class="col-md-8 mx-auto  mb-5 text-center driver_section">
        <h3 class="section_header"><span>BC School Enrolment Booklet</span></h3>
        <h5>For more data at the provincial and district levels. Please view the detailed 2018/2019 BC School Enrolment
          Booklet.</h5>
        <a class="btn ctaBtn btn-lg" href="#" role="button">DOWNLOAD</a>
      </div>
    </div>
  </div>

  <img src="/assets/img/footer-top.png" class="footer-img">
  <footer>
    <div class="container">
      <div class="col-sm-12 col-md-8">
        <h4>An Experimental Project by<br> Education Analytics Branch</h4>
        <div class="footer-link mt-4">
          <a href="#">Go to gov.bc.ca</a> |
          <a href="#">Contact Us</a>
        </div>
      </div>
      <div id="footer-logo" class="col-sm-12 col-md-4">
        <img src="/assets/img/bc_logo.png" alt="bc_logo" class="bc_logo">
        <p class="copyright">© 2019 BC Ministry of Education</p>
      </div>
    </div>
  </footer>

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="/js/jquery.min.js"></script>
  <script src="/js/popper.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.7.4/js/mdb.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/d3-queue/3.0.4/d3-queue.min.js"></script>
  <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>
  <script src="/js/transforming_menu.js"></script>
  <script src="/d3_js/migration_overview.js"></script>
  <script src="/d3_js/migration_interactive_map.js"></script>
  <script src="/d3_js/enrolment_model.js"></script>
  <script src="/d3_js/demographics.js"></script>
  <script src="/d3_js/transition.js"></script>
  <script src="/d3_js/retention.js"></script>

</body>

</html>