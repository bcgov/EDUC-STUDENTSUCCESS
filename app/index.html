<!doctype html>
<html lang="en">

<head>
  <title>BC Enrolment Booklet</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
  <link rel='stylesheet' href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" />
  <link rel="stylesheet" href="/css/bootstrap.css">

  <!-- custom css -->
  <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
  <!-- always evolved from a grid container (fixed width:960px), 
    container class allows to center content. container-fluid: completely fluid-->

  <nav class="navbar navbar-expand-lg navbar-light sticky-top nav-bg">
    <div class="container">
      <a class="navbar-brand" href="#">Enrolment Booklet</a>

      <!-- hamburger menu -->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent">
        <div class="icon">
          <span class="line top"></span>
          <span class="line middle"></span>
          <span class="line bottom"></span>
        </div>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="#enrolment_model">The Model</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#demographics">Demographics</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#migration_overview">Migration</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#transition">Transition</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#retention">Retention</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container" id='intro'>
    <!-- Jumbotron / hero section, a component -->
    <div class="row">
      <div class="col-sm-12 col-md-4 intro">
        <h2 class="intro_header mb-3">Enrolment Model</h2>
        <p>Student enrolment is influenced by four main drivers: demographics, migration, public-independent transition, and
          retention.</p>
        <a class="btn ctaBtn btn-lg" href="#enrolment_model" role="button">Learn more</a>
      </div>
      <div class="col-sm-12 col-md-8 pt-5">
        <img src="/assets/img/infographic.png" class="img-fluid" alt="overview img">
      </div>
    </div>
  </div>

  <div class="container" id="enrolment_model">
    <div class="row">
      <div class="col-8 mx-auto">
        <h2 class="section_header text-center mb-3"><span>Key Predictors and Impact</span></h2>
        <p>The Ministry of Education District Enrolment Forecast Model (DEFM) has been developed based on
          the Cohort Survival Method approach. The DEFM is based on four enrolment drivers: migration, demographics,
          independent/public school transition, and continuous student retention.</p>
      </div>
      <div class="col-sm-12 col-md-8">
        <div id="lineContainer"></div>
      </div>

      <div class="col-sm-12 col-md-4">
        <div id='model_control'>
          <div class="controlSection">
            <h4 id="distName">SD99-Province</h4>
          </div>
          <div class="controlSection">
            <h5>Time Range</h5>
            <div id="model_slider"></div>
          </div>
          <div class="controlSection">
            <h5>School District</h5>
            <div id="model_distDropdown" class="dropDown">
              <span>Select a school district</span>
              <div class="list"></div>
            </div>
          </div>
          <div class="controlSection">
            <h5>District Reports</h5>
            <a class="ghostBtn reportBtn"
              href="https://www2.gov.bc.ca/gov/content/education-training/k-12/administration/program-management/reporting-on-k-12/district-reports"
              target="_blank">View Reports<i class="fas fa-angle-right ml-3"></i></a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container" id="demographics">
    <div class="row">
      <div class="col-8 mx-auto">
        <h2 class="section_header text-center mb-3"><span>Demographics</span></h2>
        <p>The demographics driver provides an indication or whether more kindergarten students are entering schools
          relative to those leaving through graduation. If the net demographic value is positive, it is indicating that
          more five year olds are entering the system relative to the number of grade 12 students that are graduating.
        </p>
      </div>
      <div class="col-sm-12 col-md-8">
        <div id="demoContainer"></div>
      </div>
      <div class="col-sm-12 col-md-4">
        <div id="demographics-control" class="my-4">

          <form id="demo-radio">
            <label class="radio">
              <input type="radio" name="demo-type" value="NEW_KINDERGARTEN" checked><span>New to kindergarten</span>
              <span class="checkmark"></span>
            </label>
            <label class="radio">
              <input type="radio" name="demo-type" value="GRADUATES"><span>Graduates</span>
              <span class="checkmark"></span>
            </label>
            <label class="radio">
              <input type="radio" name="demo-type" value="NET"><span>Net change</span>
              <span class="checkmark"></span>
            </label>
          </form>

          <button type="button" class="ghostBtn mt-3" data-toggle="modal" data-target="#demoModal">Select Districts<i
              class="fas fa-plus ml-3"></i></button>

          <div id="demoModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Select Districts</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                </div>
                <div class="modal-footer">
                  <span id="demoModal_msg">*Please select no more than 8 districts</span>
                  <button type="button" class="ghostBtn" data-dismiss="modal">Close</button>
                  <button id="demo-save" type="button" class="flatBtn" data-dismiss="modal">Save changes</button>
                </div>
              </div>
            </div>
          </div>

        </div>

        <div id="demo-legend"></div>
      </div>
    </div>
  </div>

  <div class="container" id='migration_overview'>
    <div class="row mb-5">
      <div class="col-sm-12 col-md-4 intro">
        <h2 class="section_header mb-3"><span>Student Migration</span></h2>
        <p>The migration driver provides a measure of how many students are entering or leaving a district. If net
          migration is positive then more people are entering the district than leaving it.</p>
        <p>District-out: Grade K to 11 BC Public school students who were enroled in different school districts in
          subsequent years.</p>
        <p>District-in: Grade 1 to 12 BC Public school students who were enroled in different school districts in
          subsequent years.
        </p>
        <img class="img-fluid" src="/assets/img/migration_drc.png"
              alt="migration img">
      </div>
      <div class="col-sm-12 col-md-8 pt-5">
        <div id="aniContainer">
          <div id="animationMap" class="mb-5"></div>
          <div id="ani_control" class="row">
              <div id="play-pause" class="play"></div>
              <div id="ani-slider" class="col-6"></div>
            <div id="ani_year">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="container" id="inter-map">
    <div class="row">
      <div class="col-sm-12 col-md-8">
        <div id="mapContainer">
          <div id="interactiveMap"></div>
        </div>
      </div>

      <div class="col-sm-12 col-md-4">
        <h2 class="mb-3">Where do students go</h2>
        <div id='control'>
          <div class="controlSection">
            <h5>School Year</h5>
            <div id="yearDropdown" class="dropDown" tabindex="1">
              <span>Select a school year</span>
              <div class="list">
                <div data-value="2018">2017/2018</div>
                <div data-value="2017">2016/2017</div>
                <div data-value="2016">2015/2016</div>
                <div data-value="2015">2014/2015</div>
                <div data-value="2014">2013/2014</div>
              </div>
            </div>
          </div>
          <div class="controlSection">
            <h5>School District</h5>
            <div id="distDropdown" class="dropDown" tabindex="1">
              <span>Select a school district</span>
              <div class="list"></div>
            </div>
          </div>
          <div class="controlSection">
            <h5>Migration Flow</h5>
            <button class="flowBtn selected" id="btn_all" value="all">All</button>
            <button class="flowBtn" id="btn_inflow" value="inflow">Inflow</button>
            <button class="flowBtn" id="btn_outflow" value="outflow">Outflow</button>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="container" id="transition">
    <div class="row">
      <div class="col-8 mx-auto">
        <h2 class="section_header text-center mb-3"><span>Public and Independent Transition</span></h2>
        <p>The transition driver measures how many students move from independent schools to public schools as a net
          positive inflow, and independent to public schools as a negative outflow.</p>
      </div>
      <div class="col-sm-12 col-md-6">
        <div id="trans_control">
          <h6 class="col-3">School Year</h6>
          <div id="trans_slider" class="col-9">
          </div>
        </div>

        <div id="graph_container">
          <div class="col-4">
            <img id="public_school_icon" class="img-fluid" src="/assets/img/public.png" alt="public school">
            <h5 class="text-center">Public</h5>
          </div>
          <div id="trans_rate" class="col-4">
            <div id="pub_to_ind" class="text-center mt-4"></div>
            <div id="ind_to_pub" class="text-center mb-4"></div>
          </div>
          <div class="col-4">
            <img id="independent_school_icon" class="img-fluid" src="/assets/img/independent.png"
              alt="independent school">
            <h5 class="text-center">Independent</h5>
          </div>
        </div>
      </div>

      <div class="col-sm-12 col-md-6">
        <form id="trans_radio">
          <label class="radio">
            <input type="radio" name="trans-type" value="ENTER_PUBLIC" checked><span>Public entered</span>
            <span class="checkmark"></span>
          </label>
          <label class="radio">
            <input type="radio" name="trans-type" value="LEAVE_PUBLIC"><span>Public left</span>
            <span class="checkmark"></span>
          </label>
          <label class="radio">
            <input type="radio" name="trans-type" value="NET_INDEPENDENT"><span>Net change</span>
            <span class="checkmark"></span>
          </label>
        </form>
        <div id="transition_container"></div>
      </div>
    </div>
  </div>

  <div class="container" id="retention">
    <div class="row">
      <div class="col-8 mx-auto">
        <h2 class="section_header text-center mb-3"><span>Full-time to Part-time Retention</span></h2>
        <p>The retention driver provides an indication if students are moving from full-time to part-time status or
          vise-versa. If net retention is positive then students are increasing their course load on average. If net
          retention is negative then on average, students are decreasing their course load.</p>
      </div>
      <div class="col-sm-12 col-md-8">
        <div id="retention_control">
          <div class="row">
            <div class="controlSection col-8">
              <h5>School District</h5>
              <div id="retention_distDropdown" class="dropDown" tabindex="1">
                <span>Select a school district</span>
                <div class="list"></div>
              </div>
            </div>
          </div>
        </div>

        <div id="retention_container"></div>
      </div>

      <div class="col-sm-12 col-md-4 d-flex flex-wrap align-items-center">
        <img src="/assets/img/retention_dcr.png" alt="retention_dcr">
      </div>

    </div>
  </div>

  <div class="container" id="booklet">
    <div class="row">
      <div class="col-8 mx-auto mb-5 text-center">
        <h2 class="section_header mb-4"><span>BC School Enrolment Booklet</span></h2>
        <p>For more data at the provincial and district levels. Please view the detailed 2019/2020 BC School Enrolment
          Booklet.</p>
        <a class="btn ctaBtn btn-lg" href="#" role="button">Download</a>
      </div>
    </div>
  </div>

  <img src="/assets/img/footer-top.png" class="footer-img">
  <footer>
    <div class="container">
      <div class="col-sm-12 col-md-8">
        <h4>An Experimental Project by<br> Education Analytics Branch</h4>
        <div class="footer-link mt-4">
          <a href="#">Go to gov.bc.ca</a> |
          <a href="#">Contact Us</a>
        </div>
      </div>
      <div id="footer-logo" class="col-sm-12 col-md-4">
        <img src="/assets/img/bc_logo.png" alt="bc_logo" class="bc_logo">
        <p class="copyright">© 2019 BC Ministry of Education</p>
      </div>
    </div>
  </footer>

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="/js/jquery.min.js"></script>
  <script src="/js/popper.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.7.4/js/mdb.min.js"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/d3-queue/3.0.4/d3-queue.min.js"></script>
  <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"></script>
  <script src="/js/transforming_menu.js"></script>
  <script src="/d3_js/migration_overview.js"></script>
  <script src="/d3_js/migration_interactive_map.js"></script>
  <script src="/d3_js/enrolment_model.js"></script>
  <script src="/d3_js/demographics.js"></script>
  <script src="/d3_js/transition.js"></script>
  <script src="/d3_js/retention.js"></script>

</body>

</html>